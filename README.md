# 音ゲー

## 実行環境の必要条件
* python >= 3.10
* pygame >= 2.1

## ゲームの概要
* シャイニングスターというの楽曲に合わせてプレイできる、4レーン形式の音楽ゲームです。
* 参考URL：[魔王魂](https://maou.audio/14_shining_star/)

## ゲームの遊び方
* A,S,D,Fのキーがそれぞれ左から1〜4番目のレーンに対応しています。
* 画面上部から落下してくるノーツが、画面下部の判定ラインに重なるタイミングで対応するキーを押してください。
* タイミングの良さに応じて PERFECT, GOOD の判定が出ます。タイミングを外すと MISS, 見逃すと TOO LATE になります。

## ゲームの実装
### 共通基本機能
* 背景画像の描画
* Pygameウィンドウの表示
* 音源（BGM）の再生
* レーンと判定ラインの描画
* スコア、コンボ数の表示

### 分担追加機能
* スキル発動（一定数のコンボで発動）（担当：佐藤）：HP回復、判定強化、フィーバー
* ノーツ表示（担当：吉田）：音源のタイミングがよいノーツが出てくる機能
* 各判定（perfect,good,miss,too late）ごとのカウント、リザルト画面の作成（最終スコア、最大コンボ、各判定のカウントを表示）（担当：島田）
* ロングノーツの判定と実装(担当:田中) : beatmap.csvから値を得て作成ノーツに対応したキー(a,s,d,f)を押している間判定が出る機能
create_beatmap.pyで対応したキー(a,s,d,f)を押している間の時間とレーンをbeatmap.csvに記述する



### ToDo
- タイトル、リザルト画面の背景の追加
* ノーツ表示（担当：吉田）：`create_beatmap.py`を実行することで、音楽に合わせてキーを押し、ノーツのタイミングを記録できるので、記録されたデータは`beatmap.csv`として保存されます。
* 判定表示（担当：吉田）：PERFECT/GOOD/MISS/TOO LATEの4種類の判定を実装し、それぞれでスコアやコンボ数が変動します。
* スキル発動（一定数のコンボで発動）（担当：佐藤）：〇コンボ以上で、HP回復、判定強化、フィーバー発動
* 背景の描画（担当：戸倉）：エフェクト、SE実装
* 各判定ごとのカウント、リザルト画面の作成（担当：島田）：最終スコア、最大コンボ、各判定のカウントを表示
* ロングノーツと長押し実装(担当:田中)：ロングノーツ生成機能、ノーツに対して長押しでも判定が出るようにする



### ToDo
- [ ] 音源のノーツの判定確認
- [ ] ゲーム本体(`rhythm_game.py`)は、起動時に`beatmap.csv`を自動で読み込み、その内容に基づいてノーツを生成
- [✓] ロングノーツに対応したキーを押し続けるとmissが発生せずにロングノーツが消える機能
- [✓] create_beatmap.pyからロングノーツを作成する機能
- [] スキル発動(HP回復)→3の倍数ごとにHPを10回復する機能を実装
- [] スキル発動(判定強化)→5の倍数ごとにTO LATEとGood判定の際に数秒間perfect判定になるよう実装
- [] スキル発動(フィーバー演出)→10(仮)combo以上が続くと画面が点滅
- [] タイトル、リザルト画面の背景の追加

### メモ
 ```bash
   pip install pygame
* 背景画像の描画
* キーを押している間、判定用の四角が描画される
* A,S,D,Fキーを用いて、落ちてくるノーツにタイミングよくキーを押す。
* 30コンボ以上で、HP回復、判定強化、フィーバー発動
